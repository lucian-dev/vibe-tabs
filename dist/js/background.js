(()=>{"use strict";var o,e={616:()=>{function o(o,e,t){chrome.notifications.create("",{type:"basic",iconUrl:"../../assets/icons/Icon128.png",title:o,message:e,priority:2},(function(o){chrome.runtime.lastError?console.error("Notification error:",chrome.runtime.lastError):(console.log("Notification shown:",o),chrome.notifications.onClicked.addListener((function(e){e===o&&chrome.tabs.create({url:t})})))}))}function e(){chrome.contextMenus.removeAll((function(){chrome.storage.local.get("moods",(function(o){(o.moods||[]).forEach((function(o,e){chrome.contextMenus.create({id:"addToMood-".concat(e),title:"Add to ".concat(o.name),contexts:["page","selection","link"]})}))}))}))}chrome.runtime.onMessage.addListener((function(e,t,n){console.log("Message received in background script:",e),"showNotification"===e.type&&(o(e.title,e.message,e.url),n({status:"Notification shown"}))})),chrome.runtime.onInstalled.addListener((function(){console.log("VibeTabs Extension Installed and Updated"),chrome.alarms.clearAll((function(){chrome.alarms.create("dailyPrompt",{when:Date.now(),periodInMinutes:1440})})),e()})),chrome.storage.onChanged.addListener((function(o,t){"local"===t&&o.moods&&e()})),chrome.alarms.onAlarm.addListener((function(e){"dailyPrompt"===e.name&&(console.log("Daily prompt alarm triggered!"),chrome.storage.local.get("activeMood",(function(e){e.activeMood?console.log("A mood is currently active. No notification needed."):o("What's your mood today?","Click here to set your mood for the day!",chrome.runtime.getURL("src/options/options.html"))})))})),chrome.contextMenus.onClicked.addListener((function(e,t){var n=e.menuItemId.split("-")[1],r=t.url.trim();!function(o){return new RegExp("^(https?:\\/\\/)?(([a-zA-Z\\d]([a-zA-Z\\d-]*[a-zA-Z\\d])*)\\.?)+\\.[a-zA-Z]{2,}(\\:\\d+)?(\\/[-a-zA-Z\\d%_.~+]*)*(\\?[;&a-zA-Z\\d%_.~+=-]*)?(\\#[-a-zA-Z\\d_]*)?$","i").test(o)}(r)?o("Invalid URL","The URL of the current tab is not valid and cannot be added."):chrome.storage.local.get("moods",(function(e){var a=e.moods||[];a[n]?(a[n].tabs.push(r),chrome.storage.local.set({moods:a},(function(){console.log("Tab added to ".concat(a[n].name," mood!")),o("Tab Added","Tab added to ".concat(a[n].name," mood!"),t.url),chrome.runtime.sendMessage({type:"refreshMoods"})}))):o("Error","Selected mood does not exist.",t.url)}))}))},409:()=>{}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.m=e,o=[],n.O=(e,t,r,a)=>{if(!t){var i=1/0;for(l=0;l<o.length;l++){for(var[t,r,a]=o[l],c=!0,s=0;s<t.length;s++)(!1&a||i>=a)&&Object.keys(n.O).every((o=>n.O[o](t[s])))?t.splice(s--,1):(c=!1,a<i&&(i=a));if(c){o.splice(l--,1);var d=r();void 0!==d&&(e=d)}}return e}a=a||0;for(var l=o.length;l>0&&o[l-1][2]>a;l--)o[l]=o[l-1];o[l]=[t,r,a]},n.o=(o,e)=>Object.prototype.hasOwnProperty.call(o,e),(()=>{var o={874:0,552:0};n.O.j=e=>0===o[e];var e=(e,t)=>{var r,a,[i,c,s]=t,d=0;if(i.some((e=>0!==o[e]))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(s)var l=s(n)}for(e&&e(t);d<i.length;d++)a=i[d],n.o(o,a)&&o[a]&&o[a][0](),o[a]=0;return n.O(l)},t=self.webpackChunkvibetabs=self.webpackChunkvibetabs||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))})(),n.O(void 0,[552],(()=>n(616)));var r=n.O(void 0,[552],(()=>n(409)));r=n.O(r)})();